(this["webpackJsonpgoit-react-hw-03-phonebook"]=this["webpackJsonpgoit-react-hw-03-phonebook"]||[]).push([[0],{12:function(t,e,n){t.exports={form:"ContactForm_form__2v9xs",label:"ContactForm_label__5Ixjw",input:"ContactForm_input__UpvLW",button:"ContactForm_button__1DNPZ ContactForm_input__UpvLW",errors:"ContactForm_errors__a6FjZ"}},18:function(t,e,n){t.exports={list:"ContactList_list__2fCiQ",listItem:"ContactList_listItem__Wr03k",button:"ContactList_button__1VQ17"}},24:function(t,e,n){t.exports={label:"Filter_label__35pJI",input:"Filter_input__3Wi-p"}},37:function(t,e,n){t.exports={Container:"Container_Container__XUxM2"}},48:function(t,e,n){},70:function(t,e,n){"use strict";n.r(e);var c={};n.r(c),n.d(c,"fetchContactsRequest",(function(){return h})),n.d(c,"fetchContactsSuccess",(function(){return C})),n.d(c,"fetchContactsError",(function(){return x})),n.d(c,"addContactRequest",(function(){return _})),n.d(c,"addContactSuccess",(function(){return v})),n.d(c,"addContactError",(function(){return g})),n.d(c,"deleteContactRequest",(function(){return F})),n.d(c,"deleteContactSuccess",(function(){return N})),n.d(c,"deleteContactError",(function(){return w})),n.d(c,"changeFilter",(function(){return y}));var r={};n.r(r),n.d(r,"getContacts",(function(){return Y})),n.d(r,"addContact",(function(){return z})),n.d(r,"deleteContact",(function(){return G}));var a={};n.r(a),n.d(a,"getContacts",(function(){return K})),n.d(a,"getFilter",(function(){return $})),n.d(a,"getVisibleContacts",(function(){return tt}));var o,s,u=n(1),i=n(0),b=n.n(i),l=n(9),d=n.n(l),j=n(7),f=n(4),m=n(5),O=n(3),p=n(10),h=Object(m.b)("contacts/fetchContactsRequest"),C=Object(m.b)("contacts/fetchContactsSuccess"),x=Object(m.b)("contacts/fetchContactsError"),_=Object(m.b)("contacts/addContactRequest"),v=Object(m.b)("contacts/addContactSuccess"),g=Object(m.b)("contacts/addContactError"),F=Object(m.b)("contacts/deleteContactRequest"),N=Object(m.b)("contacts/deleteContactSuccess"),w=Object(m.b)("contacts/deleteContactError"),y=Object(m.b)("contacts/changeFilter"),k=Object(m.c)([],(o={},Object(O.a)(o,C,(function(t,e){return e.payload})),Object(O.a)(o,v,(function(t,e){var n=e.payload;return[].concat(Object(f.a)(t),[n])})),Object(O.a)(o,N,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),o)),L=Object(m.c)(!1,(s={},Object(O.a)(s,h,(function(){return!0})),Object(O.a)(s,C,(function(){return!1})),Object(O.a)(s,x,(function(){return!1})),Object(O.a)(s,_,(function(){return!0})),Object(O.a)(s,v,(function(){return!1})),Object(O.a)(s,g,(function(){return!1})),Object(O.a)(s,F,(function(){return!0})),Object(O.a)(s,N,(function(){return!1})),Object(O.a)(s,w,(function(){return!1})),s)),q=Object(m.c)("",Object(O.a)({},y,(function(t,e){return e.payload}))),E=Object(p.c)({contacts:k,filter:q,isLoading:L}),S=n(36),I=n.n(S),R=[].concat(Object(f.a)(Object(m.d)()),[I.a]),T=Object(m.a)({reducer:{contacts:E},devTools:!1,middleware:R}),U=(n(48),n(15)),V=(n(49),n(37)),W=n.n(V),J=function(t){var e=t.children;return Object(u.jsx)("div",{className:W.a.Container,children:e})},P=n(25),A=n(2),D=n.n(A),M=n(8),Q=n(16),Z=n.n(Q);Z.a.defaults.baseURL="http://localhost:4040";var B=function(t){return Z.a.post("/contacts",t)},X=function(t){return Z.a.delete("/contacts/".concat(t))},Y=function(){return function(){var t=Object(M.a)(D.a.mark((function t(e){var n,c;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(h()),t.prev=1,t.next=4,Z.a.get("/contacts");case 4:n=t.sent,c=n.data,e(C(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(x(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},z=function(t,e){return function(){var n=Object(M.a)(D.a.mark((function n(c){var r,a,o;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={name:t,number:e},c(_()),n.prev=2,n.next=5,B(r);case 5:a=n.sent,o=a.data,c(v(o)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),c(g(n.t0));case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(t){return n.apply(this,arguments)}}()},G=function(t){return function(){var e=Object(M.a)(D.a.mark((function e(n){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(F()),e.prev=1,e.next=4,X(t);case 4:n(N(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(w(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},H=n(17),K=function(t){return t.contacts.contacts},$=function(t){return t.contacts.filter},tt=Object(H.a)([K,$],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),et=n(38),nt=n.n(et),ct=n(12),rt=n.n(ct);function at(){var t=Object(j.b)(),e=Object(j.c)(a.getContacts),n=Object(P.b)(),c=n.register,o=n.handleSubmit,s=n.errors,i=n.reset,b=n.control;return Object(u.jsxs)("form",{onSubmit:o((function(n){var c=n.name,a=n.number;e.find((function(t){return t.name.toLowerCase()===c.toLowerCase()}))?U.b.info("\ud83d\ude44 ".concat(c," is already in contacts!")):e.find((function(t){return t.number===a}))?U.b.info("This number is already in contacts!"):(t(r.addContact(c,a)),i())})),className:rt.a.form,children:[Object(u.jsxs)("label",{className:rt.a.label,children:["Name",Object(u.jsx)("input",{type:"text",name:"name",ref:c({minLength:{value:2,message:"Too short name"},maxLength:{value:20,message:"Too long name"},required:"Is a required field"}),className:rt.a.input,placeholder:"Enter name"}),s.name&&Object(u.jsx)("p",{className:rt.a.errors,children:s.name.message})]}),Object(u.jsxs)("label",{className:rt.a.label,children:["Number",Object(u.jsx)(P.a,{as:nt.a,name:"number",rules:{required:"Phone number is required"},defaultValue:"",control:b,className:rt.a.input,placeholder:"+38 (___) ___-__-__",mask:"+38 (999) 999-99-99"}),s.number&&Object(u.jsx)("p",{className:rt.a.errors,children:s.number.message})]}),Object(u.jsx)("button",{type:"submit",className:rt.a.button,children:"Add contact"})]})}var ot=n(18),st=n.n(ot),ut=function(){var t=Object(j.c)(a.getVisibleContacts),e=Object(j.c)(a.getContacts),n=Object(j.b)();return Object(i.useEffect)((function(){return n(r.getContacts())}),[n]),Object(u.jsx)(u.Fragment,{children:e.length>0?Object(u.jsx)("ul",{className:st.a.list,children:t.map((function(t){var e=t.id,c=t.name,a=t.number;return Object(u.jsxs)("li",{className:st.a.listItem,children:[Object(u.jsxs)("p",{children:[c,": ",a]}),Object(u.jsx)("button",{type:"button",className:st.a.button,onClick:function(){return n(r.deleteContact(e))},children:"Delete"})]},e)}))}):Object(u.jsx)("p",{children:"Your phonebook is empty. Add contact."})})},it=n(24),bt=n.n(it),lt=function(){var t=Object(j.c)(a.getFilter),e=Object(j.c)(a.getContacts),n=Object(j.b)();return Object(u.jsx)(u.Fragment,{children:e.length>1&&Object(u.jsxs)("label",{className:bt.a.label,children:["Find contacts by name",Object(u.jsx)("input",{type:"text",className:bt.a.input,placeholder:"Enter name",value:t,onChange:function(t){return n(c.changeFilter(t.target.value))}})]})})};function dt(){return Object(u.jsxs)(J,{children:[Object(u.jsx)("h1",{children:"Phonebook"}),Object(u.jsx)(at,{}),Object(u.jsx)("h2",{children:"Contacts"}),Object(u.jsx)(lt,{}),Object(u.jsx)(ut,{}),Object(u.jsx)(U.a,{autoClose:3e3})]})}d.a.render(Object(u.jsx)(b.a.StrictMode,{children:Object(u.jsx)(j.a,{store:T,children:Object(u.jsx)(dt,{})})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.becbfe2b.chunk.js.map